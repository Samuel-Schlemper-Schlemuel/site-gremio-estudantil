<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/forum_criado.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/2.1.3/marked.js"></script>
    <title><%= titulo%></title>
</head>
<body>
    <%if(estado == 'error'){%>
        <h1>Houve um erro, tente novamente mais tarde</h1>
    <%}%>
    <%if(estado == 'não encontrado'){%>
        <h1>Site não encontrado, veja se o caminho está correto</h1>
    <%}%>
    <%if(!estado){%>
        <nav class="header">
            <img src="/Imagem_do_WhatsApp_de_2023-04-05_à_s__16.08.06-removebg-preview.png" alt="" class="logo">
            <h1 class="titulo"><%= titulo %></h1>
        </nav>
        <div class="texto"></div>
        
        <script>
            var texto = `<%= texto%>`
            texto = texto.replace(/&gt;/g, '\n>')

            document.getElementsByClassName('texto')[0].innerHTML = marked(texto)

            function ajustarData() {
                const imagens = document.getElementsByTagName('img')
                const block = document.getElementsByClassName('block')[0]
                const larguraTela = window.outerWidth
                const alturaTela = window.innerHeight

                for(img in imagens){
                    let larguraImagem = imagens[img].naturalWidth

                    if(img == 0 || !Number.parseInt(img)){
                        continue
                    } else if (larguraImagem > larguraTela) {
                        imagens[img].style.width = '100%'
                    } else {
                        imagens[img].removeAttribute('style')
                    }
                }

                block.style.height = alturaTela + 'px'
            }

            window.addEventListener('load', ajustarData)
            window.addEventListener('resize', ajustarData)
        </script>
    <%}%>
</body>
</html>